"use strict";(self.webpackChunkcom_foxdebug_acode=self.webpackChunkcom_foxdebug_acode||[]).push([[697],{73638:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var r=t(7449),o=t(49673),a=t.n(o),c=t(30011),i=t(71530),s=t(59661),u=t(73291),p=t.n(u),d=t(23324),f=t(65586);function l(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return c=n.done,n},e:function(n){i=!0,a=n},f:function(){try{c||null==t.return||t.return()}finally{if(i)throw a}}}}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function g(){var n,e="https://acode.foxdebug.com/res/",t=(0,i.Z)(strings.support);actionStack.push({id:"donate page",action:t.hide}),t.onhide=function(){actionStack.remove("donate page")},app.append(t),iap.setPurchaseUpdatedListener((function(n){Array.isArray(n)&&(0,r.Z)(a().mark((function t(){var r,o,c,i,s,u,v,g,m;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],o=l(n);try{for(i=function(){var n=c.value;r.push(new Promise((function(e,t){iap.consume(n.purchaseToken,(function(t){n.consumed=t===iap.OK,n.consumeCode=t,e(n)}),(function(n){t(n)}))})))},o.s();!(c=o.n()).done;)i()}catch(n){o.e(n)}finally{o.f()}return t.next=5,Promise.allSettled(r);case 5:if(s=t.sent,u=s.find((function(n){return"rejected"===n.status})),v="",!u){t.next=14;break}v="Something went wrong.\n",v+="Error: ".concat(u.reason,"\n"),v+="Code: ".concat(u.value.resCode),t.next=20;break;case 14:return t.next=16,p()({url:e+"6.jpeg",responseType:"blob"}).catch((function(n){d.Z.error(n)}));case 16:g=t.sent,m=URL.createObjectURL(g),v='<img src="'.concat(m,'" class="donate-image" />'),v+=strings["donation message"];case 20:f.Z.alert(strings.info.toUpperCase(),v);case 21:case"end":return t.stop()}}),t)})))()}),(function(n){n!==iap.USER_CANCELED&&f.Z.alert(strings.error.toUpperCase(),n)})),app.onclick=function(n){var e,t=n.target;t instanceof HTMLElement&&"donate"===t.getAttribute("action")&&(e=t.getAttribute("value"),iap.purchase(e,(function(n){console.log(n)}),(function(n){n!==iap.USER_CANCELED&&f.Z.alert(strings.error.toUpperCase(),n)})))},d.Z.showTitleLoader(),(n=(0,r.Z)(a().mark((function n(){var r,o,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,e){iap.getProducts(s.Z.SKULIST,(function(e){n(e)}),(function(n){e(n)}))}));case 2:r=(r=(r=n.sent).sort((function(n,e){return parseFloat(n.price.replace(/[^0-9.]/g,""))-parseFloat(e.price.replace(/[^0-9.]/g,""))}))).map((function(n){return n.image="".concat(e).concat("bronze"===n.productId?"1.jpeg":"2.jpeg"),n.donate=strings.donate.replace("{amount}",n.price),n})),o=[],i=[],r.forEach((function(n,e){var t=c.Z.render('<div class="product">\n  <img src="{{image}}" alt="{{id}}">\n  <div class="product-info">\n    <p>{{description}}</p>\n    <div class="button-container primary">\n      <button action="donate" value="{{json}}">{{donate}}</button>\n    </div>\n  </div>\n</div>',n);e%2!=0?i.push(t):o.push(t)})),t.innerHTML=c.Z.render('<div id="donate-page" class="main">\n  <div class="products">\n    <div class="col">{{{col1}}}</div>\n    <div class="col">{{{col2}}}</div>\n  </div>\n</div>',{col1:o.join(""),col2:i.join("")});case 9:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})().catch((function(n){actionStack.pop(),d.Z.error(n)})).finally((function(){d.Z.removeTitleLoader()}))}}}]);